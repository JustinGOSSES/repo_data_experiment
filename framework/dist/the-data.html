<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Data | framework_code_repos</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="./_observablehq/theme-air,near-midnight.css">
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&amp;display=swap" crossorigin>
<link rel="stylesheet" type="text/css" href="./_observablehq/theme-air,near-midnight.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&amp;display=swap" crossorigin>
<link rel="modulepreload" href="./_observablehq/client.js">
<link rel="modulepreload" href="./_observablehq/runtime.js">
<link rel="modulepreload" href="./_observablehq/stdlib.js">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6.13/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/binary-search-bounds@2.0.5/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-array@3.2.4/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-axis@3.0.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-brush@3.0.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-chord@3.0.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-color@3.1.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-contour@4.0.2/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-delaunay@6.0.4/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-dispatch@3.0.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-drag@3.0.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-dsv@3.0.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-ease@3.0.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-fetch@3.0.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-force@3.0.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-format@3.1.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-geo@3.1.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-hierarchy@3.1.2/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-interpolate@3.0.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-path@3.1.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-polygon@3.0.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-quadtree@3.0.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-random@3.0.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-scale-chromatic@3.0.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-scale@4.0.2/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-selection@3.0.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-shape@3.2.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-time-format@4.1.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-time@3.1.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-timer@3.0.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-transition@3.0.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3-zoom@3.0.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/d3@7.8.5/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/delaunator@5.0.0/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/internmap@2.0.3/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/interval-tree-1d@1.0.4/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/isoformat@0.2.1/+esm">
<link rel="modulepreload" href="https://cdn.jsdelivr.net/npm/robust-predicates@3.0.2/+esm">
<script type="module">

import {define} from "./_observablehq/client.js";

define({id: "dd9124b0", inputs: ["FileAttachment"], outputs: ["repos"], files: [{"name":"./data/all_orgs_merged_20240120.csv","mimeType":"text/csv","path":"./_file/data/all_orgs_merged_20240120.csv"}], body: (FileAttachment) => {
const repos = FileAttachment("./data/all_orgs_merged_20240120.csv").csv();
return {repos};
}});

define({id: "f12da7f0", inputs: ["display","repos"], body: (display,repos) => {
display(repos)
}});

define({id: "7030cdaf", inputs: ["Plot","d3","repos"], outputs: ["color","colorLanguage"], body: (Plot,d3,repos) => {
const color = Plot.scale({
  color: {
    type: "categorical",
    domain: d3.groupSort(repos, (D) => -D.length, (d) => d.owner).filter((d) => d !== "Other"),
    unknown: "var(--theme-foreground-muted)"
  }
});

const colorLanguage = Plot.scale({
  color: {
    type: "categorical",
    domain: d3.groupSort(repos, (D) => -D.length, (d) => d.language).filter((d) => d !== "Other"),
    unknown: "var(--theme-foreground-muted)"
  }
});
return {color,colorLanguage};
}});

define({id: "d2e26ef4", inputs: ["repos","display"], outputs: ["reposWithYear","createCohort","filterData","reposWithMoreCols_A","reposWithMoreCols_B","reposWithMoreCols_C","reposWithMoreCols_D","reposFinalAfterCohorts","reposWithYearCommitData","reposWithMoreThan100Committers","reposWith20to100Committers"], body: (repos,display) => {
const reposWithYear = repos.map((repo) => {
  const createdAt = new Date(repo.created_at);
  const year = createdAt.getUTCFullYear();
  const updatedRepo = { ...repo, created_at_year: year };

  for (const key in updatedRepo) {
    if (key.includes("commit_stats.total") || key.includes("commit_stats.mean") || key.includes(" commit_stats.dds")  ) {
      updatedRepo[key] = parseInt(updatedRepo[key]);
    }
  }
  return updatedRepo;
});

function createCohort(data, column, cohortColName, baseThreshold, topThreshold) {
  return data.map((item) => {
    if (item[column] > baseThreshold && item[column] < topThreshold) {
      return { ...item, [cohortColName]: true };
    } else {
      return { ...item, [cohortColName]: false };
    }
  });
}

function filterData(data, columnName, trueOrFalse) {
  return data.filter((item) => item[columnName] === trueOrFalse);
}

const reposWithMoreCols_A = createCohort(reposWithYear,"commit_stats.total_committers", "committersNonZero", 0.2,100000)

const reposWithMoreCols_B = createCohort(reposWithMoreCols_A,"commit_stats.total_committers", "committers1-20", 0.2,20.5)
const reposWithMoreCols_C = createCohort(reposWithMoreCols_B,"commit_stats.total_committers", "committers20-100", 20.5,100.5)
const reposWithMoreCols_D = createCohort(reposWithMoreCols_C,"commit_stats.total_committers", "committers100plus", 100.5,10000000)

const reposFinalAfterCohorts = reposWithMoreCols_D

display(reposFinalAfterCohorts)


const reposWithYearCommitData = filterData(reposFinalAfterCohorts,"committersNonZero", true)

const reposWithMoreThan100Committers = filterData(reposFinalAfterCohorts,"committers100plus", true)

const reposWith20to100Committers = filterData(reposFinalAfterCohorts,"committers20-100", true)

return {reposWithYear,createCohort,filterData,reposWithMoreCols_A,reposWithMoreCols_B,reposWithMoreCols_C,reposWithMoreCols_D,reposFinalAfterCohorts,reposWithYearCommitData,reposWithMoreThan100Committers,reposWith20to100Committers};
}});

define({id: "5d95cf46", inline: true, inputs: ["repos","display"], body: async (repos,display) => {
display(await(
repos.filter((d) => d.owner === "nasa").length.toLocaleString("en-US")
))
}});

define({id: "ce5d609b", inline: true, inputs: ["repos","display"], body: async (repos,display) => {
display(await(
repos.filter((d) => d.owner === "CMSgov").length.toLocaleString("en-US")
))
}});

define({id: "8cabe59e", inline: true, inputs: ["repos","display"], body: async (repos,display) => {
display(await(
repos.filter((d) => d.owner === "NationalSecurityAgency").length.toLocaleString("en-US")
))
}});

define({id: "bc6fe25b", inline: true, inputs: ["repos","display"], body: async (repos,display) => {
display(await(
repos.filter((d) => d.owner === "airbnb").length.toLocaleString("en-US")
))
}});

define({id: "0b85783e", inline: true, inputs: ["repos","display"], body: async (repos,display) => {
display(await(
repos.filter((d) => d.owner === "home-assistant").length.toLocaleString("en-US")
))
}});

define({id: "63c5c74b", inline: true, inputs: ["repos","display"], body: async (repos,display) => {
display(await(
repos.filter((d) => d.owner === "houstondatavis").length.toLocaleString("en-US")
))
}});

define({id: "cd6edbd5", inline: true, inputs: ["reposWithYearCommitData","display"], body: async (reposWithYearCommitData,display) => {
display(await(
reposWithYearCommitData.filter((d) => d.owner === "nasa").length.toLocaleString("en-US")
))
}});

define({id: "564a7d1d", inline: true, inputs: ["reposWithYearCommitData","display"], body: async (reposWithYearCommitData,display) => {
display(await(
reposWithYearCommitData.filter((d) => d.owner === "CMSgov").length.toLocaleString("en-US")
))
}});

define({id: "7a3daacd", inline: true, inputs: ["reposWithYearCommitData","display"], body: async (reposWithYearCommitData,display) => {
display(await(
reposWithYearCommitData.filter((d) => d.owner === "NationalSecurityAgency").length.toLocaleString("en-US")
))
}});

define({id: "e145b3d4", inline: true, inputs: ["reposWithYearCommitData","display"], body: async (reposWithYearCommitData,display) => {
display(await(
reposWithYearCommitData.filter((d) => d.owner === "airbnb").length.toLocaleString("en-US")
))
}});

define({id: "1aa8afc4", inline: true, inputs: ["reposWithYearCommitData","display"], body: async (reposWithYearCommitData,display) => {
display(await(
reposWithYearCommitData.filter((d) => d.owner === "home-assistant").length.toLocaleString("en-US")
))
}});

define({id: "a3b22f4e", inline: true, inputs: ["reposWithYearCommitData","display"], body: async (reposWithYearCommitData,display) => {
display(await(
reposWithYearCommitData.filter((d) => d.owner === "houstondatavis").length.toLocaleString("en-US")
))
}});

define({id: "fb5761e2", inputs: ["display","Plot","reposWithMoreThan100Committers"], body: (display,Plot,reposWithMoreThan100Committers) => {
display(
  Plot.plot({
  marginLeft: 200,
  marginRight:50,
  x: { axis: null },
  y: { label: null },
  color: {legend: true},
  marks: [
    Plot.barX(reposWithMoreThan100Committers, {
      // x: "commit_stats.total_committers",
      x: d => `${d["commit_stats.total_committers"]}`,
      y: "full_name",
      fill: "owner",
      channels: {topics: "topics", stargazers_count: "stargazers_count", commit_stats__total_commits: "commit_stats.total_commits", commit_stats__mean_commits: "commit_stats.mean_commits", commit_stats__dds: "commit_stats.dds"},
      tip: true,
      sort: { y: "x", reverse: true, }
    }),

    Plot.text(reposWithMoreThan100Committers, {
      text: d => `${d["commit_stats.total_committers"]}`,
      //text: d => `${d.value}`,
      y: "full_name",
      x: "commit_stats.total_committers",
       sort: { y: "x", reverse: true, },
      textAnchor: "start",
      dx: 1,
      fill: "black"
    })
  ]
})
)
}});

define({id: "98dc45e7", inputs: ["display","Plot","reposWith20to100Committers"], body: (display,Plot,reposWith20to100Committers) => {
display(
  Plot.plot({
  marginLeft: 200,
  marginRight:50,
  x: { axis: null },
  y: { label: null },
  color: {legend: true},
  marks: [
    Plot.barX(reposWith20to100Committers, {
      // x: "commit_stats.total_committers",
      x: d => `${d["commit_stats.total_committers"]}`,
      y: "full_name",
      fill: "owner",
      channels: {topics: "topics", stargazers_count: "stargazers_count", commit_stats__total_commits: "commit_stats.total_commits", commit_stats__mean_commits: "commit_stats.mean_commits", commit_stats__dds: "commit_stats.dds"},
      tip: true,
      sort: { y: "x", reverse: true, }
    }),

    Plot.text(reposWith20to100Committers, {
      text: d => `${d["commit_stats.total_committers"]}`,
      //text: d => `${d.value}`,
      y: "full_name",
      x: "commit_stats.total_committers",
       sort: { y: "x", reverse: true, },
      textAnchor: "start",
      dx: 1,
      fill: "black"
    })
  ]
})
)
}});

define({id: "0a2f494d", inputs: ["display","reposWithMoreThan100Committers"], body: (display,reposWithMoreThan100Committers) => {
display(reposWithMoreThan100Committers)
}});

</script>
<input id="observablehq-sidebar-toggle" type="checkbox" title="Toggle sidebar">
<label id="observablehq-sidebar-backdrop" for="observablehq-sidebar-toggle"></label>
<nav id="observablehq-sidebar">
  <ol>
    <label id="observablehq-sidebar-close" for="observablehq-sidebar-toggle"></label>
    <li class="observablehq-link"><a href="./">framework_code_repos</a></li>
  </ol>
  <ol>
    <li class="observablehq-link"><a href="./code-repositories">Over time</a></li>
    <li class="observablehq-link observablehq-link-active"><a href="./the-data">Data</a></li>
  </ol>
</nav>
<script>{Object.assign(document.createElement("a"),{href:""}).password&&location.replace(location.href);const e=document.querySelector("#observablehq-sidebar"),o=document.querySelector("#observablehq-sidebar-toggle"),r=sessionStorage.getItem("observablehq-sidebar");r?o.checked=r==="true":o.indeterminate=!0;for(const t of document.querySelectorAll("#observablehq-sidebar summary")){const s=t.parentElement;switch(sessionStorage.getItem(`observablehq-sidebar:${t.textContent}`)){case"true":s.open=!0;break;case"false":s.classList.contains("observablehq-section-active")||(s.open=!1);break}}addEventListener("beforeunload",()=>sessionStorage.setItem("observablehq-sidebar-scrolly",`${e.scrollTop}`));const a=sessionStorage.getItem("observablehq-sidebar-scrolly");a!=null&&(e.style.cssText="overflow: hidden;",e.scrollTop=+a,e.style.cssText="");}</script>
<aside id="observablehq-toc" data-selector="#observablehq-main h1:not(:first-of-type), #observablehq-main h2:not(h1 + h2):has(a.observablehq-header-anchor)">
<nav>
<div>Contents</div>
<ol>
<li class="observablehq-secondary-link"><a href="#number-of-code-repositories">Number of code repositories</a></li>
</ol>
</nav>
</aside>
<div id="observablehq-center">
<main id="observablehq-main" class="observablehq">
<style>

.hero {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: var(--sans-serif);
  margin: 4rem 0 8rem;
  text-wrap: balance;
  text-align: center;
}

.hero h1 {
  margin: 2rem 0;
  max-width: none;
  font-size: 14vw;
  font-weight: 900;
  line-height: 1;
  background: linear-gradient(30deg, var(--theme-foreground-focus), currentColor);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero h2 {
  margin: 0;
  max-width: 34em;
  font-size: 20px;
  font-style: initial;
  font-weight: 500;
  line-height: 1.5;
  color: var(--theme-foreground-muted);
}

@media (min-width: 640px) {
  .hero h1 {
    font-size: 90px;
  }
}

</style>
<h1 id="data" tabindex="-1"><a class="observablehq-header-anchor" href="#data">Data</a></h1>
<h2 id="visualizing-code-repositories-metadata" tabindex="-1"><a class="observablehq-header-anchor" href="#visualizing-code-repositories-metadata">Visualizing Code Repositories Metadata</a></h2>
<p><a href="https://github.com/JustinGOSSES/repo_data_experiment">The code repository that builds this page</a></p>
<h3 id="all-github-organizations-data-gathered-in-the-flattened-csv" tabindex="-1"><a class="observablehq-header-anchor" href="#all-github-organizations-data-gathered-in-the-flattened-csv">All GitHub Organizations Data Gathered in the Flattened CSV</a></h3>
<pre><code>const repos = FileAttachment("./data/all_orgs_merged_20240120.csv").csv();
</code></pre>
<div id="cell-dd9124b0" class="observablehq observablehq--block"></div>
<div id="cell-f12da7f0" class="observablehq observablehq--block observablehq--loading"></div>
<span><!-- Data utilities  -->
</span><div id="cell-7030cdaf" class="observablehq observablehq--block"></div>
<span><!-- Filtering repos to those with commit stats -->
</span><div id="cell-d2e26ef4" class="observablehq observablehq--block"></div>
<h2 id="number-of-code-repositories" tabindex="-1"><a class="observablehq-header-anchor" href="#number-of-code-repositories">Number of code repositories</a></h2>
<p>Important to note that this data comes from Ecosyste.ms API. Ecosyste.ms
doesn't collect data on all repositories but rather the subset with engagement,
that are source for a package, etc. The total number of repositories actually
in each GitHub organization is larger than what is captured here.</p>
<div class="grid grid-cols-3">
  <div class="card">
    <h2>NASA (US government agency)</h2>
    <span class="big"><span id="cell-5d95cf46" class="observablehq--loading"></span></span>
  </div>
   <div class="card">
    <a href="https://github.com/cmsgov"><h2>Centers for Medicare &amp; Medicaid Services (US government agency)</h2></a>
    <span class="big"><span id="cell-ce5d609b" class="observablehq--loading"></span></span>
  </div>
    <div class="card">
    <h2>National Security Agency (US government agency)</h2>
    <span class="big"><span id="cell-8cabe59e" class="observablehq--loading"></span></span>
  </div>
    <div class="card">
    <h2>AirBnB (tech company known for creating open source tools)</h2>
    <span class="big"><span id="cell-bc6fe25b" class="observablehq--loading"></span></span>
  </div>
    <div class="card">
    <h2>home-assistant (one of the most forked and contributed to open source projects)</h2>
    <span class="big"><span id="cell-0b85783e" class="observablehq--loading"></span></span>
  </div>
    <div class="card">
    <h2>houstondatavis (local meetup for data visualization)</h2>
    <span class="big"><span id="cell-63c5c74b" class="observablehq--loading"></span></span>
  </div>
</div>
<h3 id="counts-of-repositories-with-committer-statistics-that-are-not-zero" tabindex="-1"><a class="observablehq-header-anchor" href="#counts-of-repositories-with-committer-statistics-that-are-not-zero">Counts of repositories with committer statistics that are not zero</a></h3>
<p>It looks like as many repositories do not have committer data, but it is not clear if that is because
they did not get pushes after public release or whether Ecosyste.ms only collects committer data on
some subset of repositories?</p>
<div class="grid grid-cols-3">
  <div class="card">
    <h2>NASA (US government agency)</h2>
    <span class="big"><span id="cell-cd6edbd5" class="observablehq--loading"></span></span>
  </div>
   <div class="card">
    <a href="https://github.com/cmsgov"><h2>Centers for Medicare &amp; Medicaid Services (US government agency)</h2></a>
    <span class="big"><span id="cell-564a7d1d" class="observablehq--loading"></span></span>
  </div>
    <div class="card">
    <h2>National Security Agency (US government agency)</h2>
    <span class="big"><span id="cell-7a3daacd" class="observablehq--loading"></span></span>
  </div>
    <div class="card">
    <h2>AirBnB (tech company known for creating open source tools)</h2>
    <span class="big"><span id="cell-e145b3d4" class="observablehq--loading"></span></span>
  </div>
    <div class="card">
    <h2>home-assistant (one of the most forked and contributed to open source projects)</h2>
    <span class="big"><span id="cell-1aa8afc4" class="observablehq--loading"></span></span>
  </div>
    <div class="card">
    <h2>houstondatavis (local meetup for data visualization)</h2>
    <span class="big"><span id="cell-a3b22f4e" class="observablehq--loading"></span></span>
  </div>
</div>
<h3 id="repositories-with-more-than-100-committers" tabindex="-1"><a class="observablehq-header-anchor" href="#repositories-with-more-than-100-committers">Repositories with more than 100 committers</a></h3>
<p>For the small subset of repositories with very large communities developing them, neither
HoustonDataViz or CMSgov have repositories on this list.</p>
<div id="cell-fb5761e2" class="observablehq observablehq--block observablehq--loading"></div>
<h3 id="looking-at-repositories-with-20-100-committers" tabindex="-1"><a class="observablehq-header-anchor" href="#looking-at-repositories-with-20-100-committers">Looking at repositories with 20-100 committers</a></h3>
<div id="cell-98dc45e7" class="observablehq observablehq--block observablehq--loading"></div>
<div id="cell-0a2f494d" class="observablehq observablehq--block observablehq--loading"></div>
</main>
<footer id="observablehq-footer">
<nav><a rel="prev" href="./code-repositories"><span>Over time</span></a></nav>
<div>Built with <a href="https://observablehq.com/" target="_blank">Observable</a> on <a title="2024-02-19T02:19:31">Feb 19, 2024</a>.</div>
</footer>
</div>
